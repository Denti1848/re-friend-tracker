import * as tslib_1 from "tslib";
import { Component, Input, Output } from "@angular/core";
import { ValueField } from "../value-field";
var NumberFieldComponent = /** @class */ (function () {
    function NumberFieldComponent() {
    }
    tslib_1.__decorate([
        Input("field"),
        Output("field")
    ], NumberFieldComponent.prototype, "field", void 0);
    NumberFieldComponent = tslib_1.__decorate([
        Component({
            selector: "path-numberfield",
            template: "<path-form-field-label [label]=\"field.name\" [required]=\"field.required\"></path-form-field-label>\r\n<div [class.col-md-4]=\"field.width == 1\" [class.col-md-10]=\"field.width == 2\">\r\n    <div class=\"input-group\">\r\n        <input min=\"{{field.min}}\" max=\"{{field.max}}\" step=\"{{field.getStep()}}\" *ngIf=\"field.height == null || field.height <= 1\" #model=\"ngModel\" [readonly]=\"field.isReadonly()\" [class.required-field]=\"(!model.valid &&!model.pristine && field.required)\" [required]=\"field.required\" [(ngModel)]=field.value type=\"number\" class=\"form-control\" placeholder=\"\">\r\n    </div>\r\n</div>\r\n"
        })
    ], NumberFieldComponent);
    return NumberFieldComponent;
}());
export { NumberFieldComponent };
var NumberField = /** @class */ (function (_super) {
    tslib_1.__extends(NumberField, _super);
    function NumberField() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(NumberField.prototype, "min", {
        get: function () {
            return this._min;
        },
        set: function (value) {
            this._min = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NumberField.prototype, "max", {
        get: function () {
            return this._max;
        },
        set: function (value) {
            this._max = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NumberField.prototype, "digits", {
        get: function () {
            return this._digits;
        },
        set: function (value) {
            this._digits = value;
        },
        enumerable: true,
        configurable: true
    });
    NumberField.prototype.getStep = function () {
        if (this._digits == null) {
            return "";
        }
        else if (this._digits === 0) {
            return "0";
        }
        // e.g. 3 => 0.001
        var step = "0.";
        for (var k = 0; k < this._digits - 1; k++) {
            step = step + "0";
        }
        return step + "1";
    };
    NumberField.prototype.fromJson = function (modelFormField) {
        _super.prototype.fromJson.call(this, modelFormField);
        if (modelFormField["min"] != null) {
            this.min = modelFormField["min"];
        }
        if (modelFormField["max"] != null) {
            this.max = modelFormField["max"];
        }
        if (modelFormField["digits"] != null) {
            this.digits = modelFormField["digits"];
        }
    };
    return NumberField;
}(ValueField));
export { NumberField };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibnVtYmVyLWZpZWxkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3BhdGgtZnJhbWV3b3JrLyIsInNvdXJjZXMiOlsicGF0aC1mcmFtZXdvcmsvZm9ybS9maWVsZC9udW1iZXIvbnVtYmVyLWZpZWxkLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ3ZELE9BQU8sRUFBQyxVQUFVLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQU0xQztJQUFBO0lBSUEsQ0FBQztJQURHO1FBRkMsS0FBSyxDQUFDLE9BQU8sQ0FBQztRQUNkLE1BQU0sQ0FBQyxPQUFPLENBQUM7dURBQ0c7SUFIVixvQkFBb0I7UUFKaEMsU0FBUyxDQUFDO1lBQ1AsUUFBUSxFQUFFLGtCQUFrQjtZQUM1Qixzb0JBQTBDO1NBQzdDLENBQUM7T0FDVyxvQkFBb0IsQ0FJaEM7SUFBRCwyQkFBQztDQUFBLEFBSkQsSUFJQztTQUpZLG9CQUFvQjtBQU1qQztJQUFpQyx1Q0FBa0I7SUFBbkQ7O0lBdURBLENBQUM7SUFsREcsc0JBQUksNEJBQUc7YUFBUDtZQUNJLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztRQUNyQixDQUFDO2FBRUQsVUFBUSxLQUFhO1lBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLENBQUM7OztPQUpBO0lBTUQsc0JBQUksNEJBQUc7YUFBUDtZQUNJLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztRQUNyQixDQUFDO2FBRUQsVUFBUSxLQUFhO1lBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLENBQUM7OztPQUpBO0lBTUQsc0JBQUksK0JBQU07YUFBVjtZQUNJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUN4QixDQUFDO2FBRUQsVUFBVyxLQUFhO1lBQ3BCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLENBQUM7OztPQUpBO0lBTU0sNkJBQU8sR0FBZDtRQUNJLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLEVBQUU7WUFDdEIsT0FBTyxFQUFFLENBQUM7U0FDYjthQUFNLElBQUksSUFBSSxDQUFDLE9BQU8sS0FBSyxDQUFDLEVBQUU7WUFDM0IsT0FBTyxHQUFHLENBQUM7U0FDZDtRQUNELGtCQUFrQjtRQUNsQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7UUFDaEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3ZDLElBQUksR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDO1NBQ3JCO1FBQ0QsT0FBTyxJQUFJLEdBQUcsR0FBRyxDQUFDO0lBQ3RCLENBQUM7SUFFTSw4QkFBUSxHQUFmLFVBQWdCLGNBQWM7UUFDMUIsaUJBQU0sUUFBUSxZQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQy9CLElBQUksY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksRUFBRTtZQUMvQixJQUFJLENBQUMsR0FBRyxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNwQztRQUNELElBQUksY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksRUFBRTtZQUMvQixJQUFJLENBQUMsR0FBRyxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNwQztRQUNELElBQUksY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLElBQUksRUFBRTtZQUNsQyxJQUFJLENBQUMsTUFBTSxHQUFHLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUMxQztJQUNMLENBQUM7SUFDTCxrQkFBQztBQUFELENBQUMsQUF2REQsQ0FBaUMsVUFBVSxHQXVEMUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudCwgSW5wdXQsIE91dHB1dH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcclxuaW1wb3J0IHtWYWx1ZUZpZWxkfSBmcm9tIFwiLi4vdmFsdWUtZmllbGRcIjtcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6IFwicGF0aC1udW1iZXJmaWVsZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwibnVtYmVyLWZpZWxkLmNvbXBvbmVudC5odG1sXCJcclxufSlcclxuZXhwb3J0IGNsYXNzIE51bWJlckZpZWxkQ29tcG9uZW50IHtcclxuICAgIEBJbnB1dChcImZpZWxkXCIpXHJcbiAgICBAT3V0cHV0KFwiZmllbGRcIilcclxuICAgIGZpZWxkOiBOdW1iZXJGaWVsZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE51bWJlckZpZWxkIGV4dGVuZHMgVmFsdWVGaWVsZDxudW1iZXI+IHtcclxuICAgIHByaXZhdGUgX21pbjogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfbWF4OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF9kaWdpdHM6IG51bWJlcjtcclxuXHJcbiAgICBnZXQgbWluKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21pbjtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgbWluKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9taW4gPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbWF4KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21heDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgbWF4KHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9tYXggPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGlnaXRzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RpZ2l0cztcclxuICAgIH1cclxuXHJcbiAgICBzZXQgZGlnaXRzKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9kaWdpdHMgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3RlcCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0aGlzLl9kaWdpdHMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2RpZ2l0cyA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCIwXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGUuZy4gMyA9PiAwLjAwMVxyXG4gICAgICAgIGxldCBzdGVwID0gXCIwLlwiO1xyXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5fZGlnaXRzIC0gMTsgaysrKSB7XHJcbiAgICAgICAgICAgIHN0ZXAgPSBzdGVwICsgXCIwXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdGVwICsgXCIxXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGZyb21Kc29uKG1vZGVsRm9ybUZpZWxkKSB7XHJcbiAgICAgICAgc3VwZXIuZnJvbUpzb24obW9kZWxGb3JtRmllbGQpO1xyXG4gICAgICAgIGlmIChtb2RlbEZvcm1GaWVsZFtcIm1pblwiXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWluID0gbW9kZWxGb3JtRmllbGRbXCJtaW5cIl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtb2RlbEZvcm1GaWVsZFtcIm1heFwiXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4ID0gbW9kZWxGb3JtRmllbGRbXCJtYXhcIl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtb2RlbEZvcm1GaWVsZFtcImRpZ2l0c1wiXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlnaXRzID0gbW9kZWxGb3JtRmllbGRbXCJkaWdpdHNcIl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==