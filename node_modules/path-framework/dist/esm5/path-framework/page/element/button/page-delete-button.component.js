import * as tslib_1 from "tslib";
import { Button } from "./button.component";
import { Output, Input, Component } from "@angular/core";
import { KeyUtility } from "../../../utility/key-utility";
var PageDeleteButtonComponent = /** @class */ (function () {
    function PageDeleteButtonComponent() {
    }
    tslib_1.__decorate([
        Input("button"),
        Output("button")
    ], PageDeleteButtonComponent.prototype, "button", void 0);
    PageDeleteButtonComponent = tslib_1.__decorate([
        Component({
            selector: "path-page-delete-button",
            template: "<a (click)=\"button.onClick()\" class=\"fa-links\">\r\n\t<div class=\"thumbnail tile tile-button {{(button.width <= 1 ? 'tile-medium' : (button.width == 2 ? 'tile-wide' : (button.width == 3 ? 'tile-wide-3' : (button.width >= 4 ? 'tile-wide-4' : ''))))}} tile-red col-md-3 {{button.cssGroupBorder}} {{button.cssClass}}\" [ngStyle]=\"button.cssStyle\">\r\n\t\t<div class=\"h3\">{{button.name}}</div>\r\n\t\t<i class=\"fa fa-2x fa-remove\"></i>\r\n\t</div>\r\n</a>\r\n"
        })
    ], PageDeleteButtonComponent);
    return PageDeleteButtonComponent;
}());
export { PageDeleteButtonComponent };
var PageDeleteButton = /** @class */ (function (_super) {
    tslib_1.__extends(PageDeleteButton, _super);
    function PageDeleteButton(app, pathService, translationService) {
        var _this = _super.call(this, app, pathService, translationService) || this;
        _this.name = translationService.getText("Delete");
        return _this;
    }
    PageDeleteButton.prototype.onClick = function () {
        var _this = this;
        this.getApp().yesNo(this.translationService.getText("DeleteWarningQuestion"), function () {
            _this.pathService.serverDelete(_this.getApp().getBackendUrl(), _this.url, function () {
                _this.getApp().navigateBack();
                _this.getApp().refreshCurrentPage();
            });
        }, function () {
        });
    };
    PageDeleteButton.prototype.fromJson = function (modelElement) {
        _super.prototype.fromJson.call(this, modelElement);
        this.type = "deleteButton";
        this.url = KeyUtility.translateUrl(modelElement["url"], null, false, this.parentPageElement);
    };
    return PageDeleteButton;
}(Button));
export { PageDeleteButton };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS1kZWxldGUtYnV0dG9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3BhdGgtZnJhbWV3b3JrLyIsInNvdXJjZXMiOlsicGF0aC1mcmFtZXdvcmsvcGFnZS9lbGVtZW50L2J1dHRvbi9wYWdlLWRlbGV0ZS1idXR0b24uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUMsTUFBTSxFQUFDLE1BQU0sb0JBQW9CLENBQUM7QUFJMUMsT0FBTyxFQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ3ZELE9BQU8sRUFBQyxVQUFVLEVBQUMsTUFBTSw4QkFBOEIsQ0FBQztBQU14RDtJQUFBO0lBSUEsQ0FBQztJQURHO1FBRkMsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUNmLE1BQU0sQ0FBQyxRQUFRLENBQUM7NkRBQ1E7SUFIaEIseUJBQXlCO1FBSnJDLFNBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSx5QkFBeUI7WUFDbkMsNmRBQWdEO1NBQ25ELENBQUM7T0FDVyx5QkFBeUIsQ0FJckM7SUFBRCxnQ0FBQztDQUFBLEFBSkQsSUFJQztTQUpZLHlCQUF5QjtBQU10QztJQUFzQyw0Q0FBTTtJQUV4QywwQkFBWSxHQUFhLEVBQUUsV0FBd0IsRUFBRSxrQkFBc0M7UUFBM0YsWUFDSSxrQkFBTSxHQUFHLEVBQUUsV0FBVyxFQUFFLGtCQUFrQixDQUFDLFNBRTlDO1FBREcsS0FBSSxDQUFDLElBQUksR0FBRyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0lBQ3JELENBQUM7SUFFTSxrQ0FBTyxHQUFkO1FBQUEsaUJBUUM7UUFQRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsRUFBRTtZQUMxRSxLQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxLQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsYUFBYSxFQUFFLEVBQUUsS0FBSSxDQUFDLEdBQUcsRUFBRTtnQkFDbkUsS0FBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDO2dCQUM3QixLQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztZQUN2QyxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsRUFBRTtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLG1DQUFRLEdBQWYsVUFBZ0IsWUFBWTtRQUN4QixpQkFBTSxRQUFRLFlBQUMsWUFBWSxDQUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLElBQUksR0FBRyxjQUFjLENBQUM7UUFDM0IsSUFBSSxDQUFDLEdBQUcsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ2pHLENBQUM7SUFDTCx1QkFBQztBQUFELENBQUMsQUF0QkQsQ0FBc0MsTUFBTSxHQXNCM0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0J1dHRvbn0gZnJvbSBcIi4vYnV0dG9uLmNvbXBvbmVudFwiO1xyXG5pbXBvcnQge1BhdGhTZXJ2aWNlfSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZS9wYXRoLnNlcnZpY2VcIjtcclxuaW1wb3J0IHtJUGF0aEFwcH0gZnJvbSBcIi4uLy4uLy4uL3BhdGhpbnRlcmZhY2VcIjtcclxuaW1wb3J0IHtUcmFuc2xhdGlvblNlcnZpY2V9IGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlL3RyYW5zbGF0aW9uLnNlcnZpY2VcIjtcclxuaW1wb3J0IHtPdXRwdXQsIElucHV0LCBDb21wb25lbnR9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XHJcbmltcG9ydCB7S2V5VXRpbGl0eX0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdHkva2V5LXV0aWxpdHlcIjtcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6IFwicGF0aC1wYWdlLWRlbGV0ZS1idXR0b25cIixcclxuICAgIHRlbXBsYXRlVXJsOiBcInBhZ2UtZGVsZXRlLWJ1dHRvbi5jb21wb25lbnQuaHRtbFwiXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBQYWdlRGVsZXRlQnV0dG9uQ29tcG9uZW50IHtcclxuICAgIEBJbnB1dChcImJ1dHRvblwiKVxyXG4gICAgQE91dHB1dChcImJ1dHRvblwiKVxyXG4gICAgYnV0dG9uOiBQYWdlRGVsZXRlQnV0dG9uO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGFnZURlbGV0ZUJ1dHRvbiBleHRlbmRzIEJ1dHRvbiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBJUGF0aEFwcCwgcGF0aFNlcnZpY2U6IFBhdGhTZXJ2aWNlLCB0cmFuc2xhdGlvblNlcnZpY2U6IFRyYW5zbGF0aW9uU2VydmljZSkge1xyXG4gICAgICAgIHN1cGVyKGFwcCwgcGF0aFNlcnZpY2UsIHRyYW5zbGF0aW9uU2VydmljZSk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gdHJhbnNsYXRpb25TZXJ2aWNlLmdldFRleHQoXCJEZWxldGVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5nZXRBcHAoKS55ZXNObyh0aGlzLnRyYW5zbGF0aW9uU2VydmljZS5nZXRUZXh0KFwiRGVsZXRlV2FybmluZ1F1ZXN0aW9uXCIpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGF0aFNlcnZpY2Uuc2VydmVyRGVsZXRlKHRoaXMuZ2V0QXBwKCkuZ2V0QmFja2VuZFVybCgpLCB0aGlzLnVybCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRBcHAoKS5uYXZpZ2F0ZUJhY2soKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0QXBwKCkucmVmcmVzaEN1cnJlbnRQYWdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZnJvbUpzb24obW9kZWxFbGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIuZnJvbUpzb24obW9kZWxFbGVtZW50KTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBcImRlbGV0ZUJ1dHRvblwiO1xyXG4gICAgICAgIHRoaXMudXJsID0gS2V5VXRpbGl0eS50cmFuc2xhdGVVcmwobW9kZWxFbGVtZW50W1widXJsXCJdLCBudWxsLCBmYWxzZSwgdGhpcy5wYXJlbnRQYWdlRWxlbWVudCk7XHJcbiAgICB9XHJcbn1cclxuIl19